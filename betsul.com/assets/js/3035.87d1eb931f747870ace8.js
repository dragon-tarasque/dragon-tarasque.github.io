"use strict";(self.webpackChunkwebet_ui=self.webpackChunkwebet_ui||[]).push([[3035],{3035:function(e,t,o){o.d(t,{Z:function(){return ue}});var a=o(894),i=o(3168),s=o(7989),r=o(3802),n=o(6884),c=o(3459);const l={betBuilderItems:e=>{const t=[];for(const o of e.items.filter((e=>e.isBetbuilder))){const e=t.findIndex((e=>e.event.id===o.event.id));if(o.odd.quotation=0,e>=0)t[e].itens.push(o.odd),o.amount=0;else{const e={isBetbuilder:!0,amount:o.amount,itens:[o.odd],event:o.event};t.push(e)}}return t},cartItems:(e,t)=>{e.betBuilderOdds=e.betBuilderOdds.filter((e=>((new Date).getTime()-e.timestamp)/1e3<15));const o=t.betBuilderItems;if(o.length>0)for(const t of o){let o=`(${t.event.id})`;for(const e of t.itens)o+=`-${e.id}_${e.option}`;let a=0,i="",r=!0;if(e.betBuilderOdds.filter((e=>e.key===o)).length>0&&(r=!1,a=e.betBuilderOdds.filter((e=>e.key===o))[0].quotation,i=e.betBuilderOdds.filter((e=>e.key===o))[0].message,e.betBuilderAllowed={...e.betBuilderAllowed,[t.event.id]:{allowed:e.betBuilderOdds.filter((e=>e.key===o))[0].allowed}}),t.itens.length>1&&!t?.odd?.calculating&&0===e.betBuilderOdds.filter((e=>e.key===o&&((new Date).getTime()-e.timestamp)/1e3<10)).length){const a={idEvento:t.event.id,itens:t.itens.map((e=>({idSubEvento:e.id,idOpcao:e.option})))};r=!0,s.W.post("/betbuilder/calcular",a).then((t=>{const a=e.betBuilderOdds.findIndex((e=>e.key===o));a>=0?e.betBuilderOdds[a]={key:o,quotation:t?.data?.odds||0,message:t?.data?.message||"",allowed:t?.data?.allowed,timestamp:(new Date).getTime()}:e.betBuilderOdds.push({key:o,quotation:t?.data?.odds||0,message:t?.data?.message||"",allowed:t?.data?.allowed,timestamp:(new Date).getTime()})})).catch((t=>{console.error(t);const a=e.betBuilderOdds.findIndex((e=>e.key===o));a>=0?e.betBuilderOdds[a]={key:o,quotation:t?.odds||0,message:t?.message||"",allowed:[],timestamp:(new Date).getTime()}:e.betBuilderOdds.push({key:o,quotation:t?.odds||0,message:t?.message||"",allowed:[],timestamp:(new Date).getTime()})}))}t.odd={quotation:a,calculating:r,message:i},t.itens[0].normalQuotation=t.itens[0].quotation,t.itens[0].quotation=a}return[...o,...e.items.filter((e=>!e.isBetbuilder))]},hasOffer:e=>!!e.offer,itemsIndexes:e=>e.items.map((e=>`${e.isBetbuilder}-${e.event.id}-${e.odd.id}-${e.odd.option}`)),canCombined:e=>{if(e.items.length<=1)return!1;let t=!0;const o=[];for(let a=0;a<e.items.length;a++){if(-1!==o.indexOf(e.items[a].event.id)){t=!1;break}o.push(e.items[a].event.id)}return t},isCombined:(e,t)=>e.combined&&t.canCombined,counter:(e,t)=>t.cartItems.length||0,isValid:(e,t)=>!(-1!==t.cartOddsFormated.carrinho.itens.map((e=>"closed"===e.status||"betstop"===e.status)).indexOf(!0))&&(t.total>=1&&e.items.length<=40),isValidForEticket(e,t){return!(!t.isCombined&&e.items.length>1)&&t.isValid},total:(e,t)=>{let o=0;return t.isCombined?o=e.amountCombined:e.items.forEach((e=>{o+=e.amount})),o},factor:(e,t)=>{let o=0;return t.isCombined?(o=1,e.items.forEach((e=>{0!==e.odd.quotation&&(o*=e.odd.quotation/100)}))):e.items.forEach((e=>{0!==e.odd.quotation&&(o+=e.odd.quotation/100)})),1===o?null:o},prize:(e,t)=>{let o=0;if(t.isCombined?o=t.factor*e.amountCombined:e.items.forEach((e=>{o+=e.odd.quotation/100*e.amount})),e.offer&&"4"===e.offer.metadata.promotionType){const t=parseInt(e.offer.metadata.percentualGanho||"0")/100*o;o+=t}return o},prizeWithoutPromotion:(e,t)=>{let o=0;return t.isCombined?o=t.factor*e.amountCombined:e.items.forEach((e=>{o+=e.odd.quotation/100*e.amount})),o},disabledOdd:(e,t)=>({isBetbuilder:t,eventId:o,oddId:a,oddOption:i})=>{if(!t)return!1;const s=(e.betBuilderAllowed[o]||{}).allowed||[];if(0===s.length)return!1;return!(s.filter((e=>e.idSubEvento===a&&e.idOpcao===i)).length||e.items.filter((e=>e.isBetbuilder===t&&e.odd.id===a)).length)},checkOdd:(e,t)=>({isBetbuilder:e,eventId:o,oddId:a,oddOption:i})=>t.itemsIndexes.includes(`${e}-${o}-${a}-${i}`),cartOddsFormatedToFinish:(e,t)=>{const o=t.isCombined&&t.canCombined?2:1,a={totalPago:parseInt(100*t.total),possivelRetorno:parseInt(100*t.prize),itens:[]},i=[];for(const t of e.items.filter((e=>e.isBetbuilder))){const e=i.findIndex((e=>e.eventId===t.event.id)),a={idSubEvento:t.odd.id,idOpcao:t.odd.option};e>=0?i[e].betBuilder.itens.push(a):i.push({cotacao:t.odd.quotation,valorPago:1===o?parseInt(100*t.amount):0,eventId:t.event.id,betBuilder:{itens:[a]}})}i.length&&(a.itens=[...i,...a.itens]);for(const t of e.items.filter((e=>!e.isBetbuilder)))a.itens.push({idSubEvento:t.odd.id,idOpcao:t.odd.option,cotacao:t.odd.quotation,valorPago:1===o?parseInt(100*t.amount):0,nomeEvento:`${t.event.home} x ${t.event.visitor}`,momento:(0,n.p6)(t.event.moment,"YYYYMMDDHHmmss"),status:t.odd.status,atualizou:t.odd.atualizou||!1,oldcotacao:t.odd.oldcotacao});const s={tipo:o,retornarObjetoCupom:!0,languageID:"PT",confirmaPrinterAuto:!0,carrinho:a};return t.hasOffer&&(s.preconsulta=!1,s.naoRetornarImagemCupom=!1,s.voucherPromocao=e.offer?.idVoucher,s.tipoPromocao=e.offer?.metadata?.promotionType,s.codigoPromocional=e.offer?.metadata?.codigoPromocional),s},cartOddsFormated:(e,t)=>{const o=t.isCombined&&t.canCombined?2:1,a={totalPago:parseInt(100*t.total),possivelRetorno:parseInt(100*t.prize),itens:[]};e.items.forEach((function(e){a.itens.push({idSubEvento:e.odd.id,idOpcao:e.odd.option,cotacao:e.odd.quotation,valorPago:1===o?parseInt(100*e.amount):0,nomeEvento:`${e.event.home} x ${e.event.visitor}`,momento:(0,n.p6)(e.event.moment,"YYYYMMDDHHmmss"),status:e.odd.status,atualizou:e.odd.atualizou||!1,oldcotacao:e.odd.oldcotacao})}));const i={tipo:o,retornarObjetoCupom:!0,languageID:"PT",confirmaPrinterAuto:!0,carrinho:a};return t.hasOffer&&(i.preconsulta=!1,i.naoRetornarImagemCupom=!1,i.voucherPromocao=e.offer?.idVoucher,i.tipoPromocao=e.offer?.metadata?.promotionType,i.codigoPromocional=e.offer?.metadata?.codigoPromocional),i}},d={removeItem({commit:e},{isBetbuilder:t,eventId:o,oddId:a,oddOption:i}){e("removeItem",{isBetbuilder:t,eventId:o,oddId:a,oddOption:i})},toggleOdd({commit:e,getters:t,rootState:o},a){const i=t.itemsIndexes.includes(`${a.isBetbuilder}-${a.event.id}-${a.odd.id}-${a.odd.option}`),s=o?.permissions?.configuracoes,r={match_id:a?.event?.id,team_home_name:a?.event?.home,team_away_name:a?.event?.visitor,scheduled:new Date(a?.event?.moment).toISOString(),tournament_name:a?.event?.championship,sport:a?.event?.sport,odds_home:a?.event?.oddsHome,odds_draw:a?.event?.oddsDraw||"",odds_away:a?.event?.oddsAway,language:(s?.linguagemPadrao||"").split("-").shift()};i?e("removeItem",{isBetbuilder:a.isBetbuilder,eventId:a.event.id,oddId:a.odd.id,oddOption:a.odd.option}):e("addItem",{...a,trackerData:r})},toggleCombined({state:e,commit:t,getters:o}){t("setCombined",!!o.canCombined&&!e.combined)},cleanOdds({commit:e}){e("resetCart")},setAmount({state:e,commit:t,getters:o},a){!o.canCombined&&e.combined&&t("setCombined",!1),t("setAmount",{amount:a,isCombined:o.canCombined&&e.combined})},setAmountForItem({state:e,commit:t},{eventId:o,oddId:a,oddOption:i,amount:s}){const r=e.items.findIndex((e=>!e.isBetbuilder&&e.event.id===o&&e.odd.id===a&&e.odd.option===i));e.combined||-1===r||t("setAmountForItem",{amount:s,itemIndex:r})},setAmountForBetbuilderItem({state:e,commit:t},{eventId:o,oddId:a,oddOption:i,amount:s}){const r=e.items.findIndex((e=>e.isBetbuilder&&e.event.id===o&&e.odd.id===a&&e.odd.option===i));e.combined||-1===r||t("setAmountForItem",{amount:s,itemIndex:r})},setOffer({commit:e},t){t?e("addOffer",t):e("removeOffer")},async preValidateOffer({getters:e,commit:t}){const o=e.cartOddsFormated;return new Promise(((e,t)=>s.X.post("/sp/venda/preconsulta/promocao",o).then((t=>{e(t.data)})).catch((e=>{t(e)}))))},async finishCart({getters:e,commit:t,state:o,dispatch:a},i){const n=e.cartOddsFormatedToFinish,l=async e=>{if(!e)throw Error("Invalid request response.");if("000"!==e.codResposta){if("116"===e.codResposta)throw t("updateQuotations",e.carrinho),Error(e?.mensagem||"",{cause:e});if("226"===e.codResposta)return t("resetCart"),Promise.resolve(e);throw Error(e?.mensagem||"",{cause:e})}return c.betPlaced(e),t("resetCart"),Promise.resolve(e)};if(i&&i.eticket)try{const e=o.items,t=await r.U.post("/venda/eticket",n),i=await l({...t,isEticket:!0});return i.cupomVenda={moment:(new Date).getTime(),numeroBilhete:+i?.eticket,tipoVenda:n.tipo,valorPremio:n.carrinho.possivelRetorno,valorPago:n.carrinho.totalPago,qtdEventos:e.length,eventosBilhetes:e},a("etickets/addEticket",i,{root:!0}),i}catch(e){return Promise.reject(e)}if(!i||!i?.eticket)try{const e=await s.X.post("/sp/venda/",n);return await l(e?.data)}catch(e){return Promise.reject(e)}},async updateQuotationsCart({getters:e,commit:t},{userlogged:o}){const a=e.cartOddsFormated,i={itens:[]};return a.carrinho.itens.forEach((e=>{i.itens.push({cotacao:e.cotacao,idOpcao:e.idOpcao,idSubEvento:e.idSubEvento})})),new Promise(((e,a)=>(o?s.W.post("/cotacoes/valida",i):r.U.post("/cotacoes/valida",i)).then((a=>{if(a?.data?.limparItens||a?.limparItens)t("resetCart");else{const e=(o?a.data.itens:a.itens)?.map((e=>(e.oldcotacao=null,i.itens.forEach((t=>{t.idSubEvento===e.idSubEvento&&(e.oldcotacao=t.cotacao)})),e)));t("updateQuotations",{itens:e})}e(a.data)})).catch((e=>{a(e)}))))},setOddFilter({commit:e},t){e("setOddFilter",t)},clearOddFilter({commit:e}){e("clearOddFilter")},clearOddFilterByType({commit:e},t){e("clearOddFilterByType",t)}},u={resetCart(e){e.items=[],e.betBuilderAllowed=[],e.combined=!0,e.amountCombined=0,e.offer=null},removeItem(e,{isBetbuilder:t,eventId:o,oddId:a,oddOption:i,trackerData:s}){const r=e.items.findIndex((e=>e.isBetbuilder===t&&e.event.id===o&&e.odd.id===a&&e.odd.option===i));-1!==r&&(e.items.filter((e=>e.isBetbuilder)).length<2&&(e.betBuilderAllowed=[]),e.items.splice(r,1),e.combined&&e.items.length)},addItem(e,t){const o=e.items.findIndex((e=>e.isBetbuilder===t.isBetbuilder&&e.event.id===t.event.id&&e.odd.id===t.odd.id)),a=t?.trackerData;t.trackerData&&delete t.trackerData,-1!==o?e.items[o]={...e.items[o],odd:t.odd}:e.items.push({...t,amount:e.combined?e.amountCombined:0}),e.canCombined&&e.items.length,c.addItemBetSlip(a),c.addOdd(t)},setCheckoutStatus(e,t){e.checkoutStatus=t},setCombined(e,t){e.amountCombined=0,e.combined=e.items.length>1&&t},setAmount(e,{amount:t,isCombined:o}){if(o)e.amountCombined=t;else{const o=[...e.items];o.map((e=>(e.amount=t,e))),e.items=o}},setAmountForItem(e,{amount:t,itemIndex:o}){e.items[o].amount=t},setBetBuilderOdds(e,{odd:t}){e.betBuilderOdds.push(t)},updateQuotations(e,t){const o=e.items.map((e=>{const o=t?.itens?.findIndex((t=>t.idSubEvento===e.odd.id&&t.idOpcao===e.odd.option));return-1!==o?{...e,odd:{...e.odd,amount:1,quotation:t.itens[o].cotacao,status:t.itens[o].status,atualizou:t.itens[o].atualizou,oldcotacao:t.itens[o].oldcotacao}}:{...e}}));e.items=[...o]},addOffer(e,t){e.offer=t},removeOffer(e){e.offer=null},setOddFilter(e,t){e.filterOdds=t},clearOddFilter(e){e.filterOdds={}},clearOddFilterByType(e,t){delete e.filterOdds.filter[t],delete e.filterOdds.sort[t]}};var m={namespaced:!0,state:()=>({currency:"BRL",items:[],combined:!0,amountCombined:0,offer:null,filterOdds:{},betBuilderOdds:[],betBuilderAllowed:{},calculatingBetBuilder:!1}),getters:l,actions:d,mutations:u};const p={addEticket(e,t){e.items[t.eticket]=t}};var g={namespaced:!0,state:()=>({items:{}}),getters:{},actions:{addEticket({commit:e},t){e("addEticket",t)}},mutations:p},h=o(3535),f=o(5980),b=o(1939),S=o(5737),E=o(7501),v=o.n(E);const C={isLogged:e=>!!e&&e.data,hasProfile:e=>e.userConfig?.usuario?.hasProfile||!1,getFormatedBalance(e){return(0,f.lb)((e?.balance||0)/100)},getConfigBetOption(e){return e?.data?.dados?.alternativeOdds?.option||"none"},getBetConfigOptions(){return{any:"Aceitar qualquer cota",higher:"Aceitar cotas mais altas",none:"Não aceitar mudanças nas cotas"}},isAcceptedCookie(e){return e.acceptCookie}},T={async handlerLogin({commit:e,dispatch:t,rootState:o},{userConfig:a,user:i}){const s=o?.permissions?.produtosPermitidos||[];if(localStorage.setItem("token",a.usuario.accessToken),localStorage.setItem("refreshToken",a.refreshToken),localStorage.setItem("TokenUserIDBolao",v().encode(a.usuario.id)),localStorage.setItem("TokenUserGTM",v().encode(a.usuario.id)),c.sessionUpdate(a.usuario.accessToken,a.usuario.id),sessionStorage.setItem("FinalizeSyndicate",""),sessionStorage.setItem("Syndicate",""),sessionStorage.setItem("SyndicateRanking",""),e("setUserConfig",a),s.includes(f.X2.LOTERICOS))try{await(0,S.BS)({login:i,accessToken:a?.usuario?.accessToken||""})}catch(e){console.error("Não foi possível registrar a sessão de lotéricos: \n",e)}t("getUser",!0),t("getBalance",!0),a?.usuario?.hasProfile&&window.location.reload()},async login({dispatch:e},{user:t,password:o}){try{const a=await(0,h.n$)({user:t,password:o});if("210"===a.code)return Promise.resolve(a);await e("handlerLogin",{userConfig:a,user:t})}catch(e){return console.error(e),localStorage.setItem("token",""),localStorage.setItem("refreshToken",""),localStorage.setItem("TokenUserIDBolao",""),localStorage.setItem("TokenUserGTM",""),c.event("loginError"),Promise.reject(e)}},async logout({commit:e}){localStorage.setItem("token",""),localStorage.setItem("refreshToken",""),localStorage.setItem("lotericos-session",""),localStorage.setItem("SyndicateSubscription",""),localStorage.setItem("TokenUserIDBolao",""),localStorage.setItem("TokenUserGTM",""),sessionStorage.setItem("NewsCup",""),sessionStorage.setItem("FinalizeSyndicate",""),sessionStorage.setItem("Syndicate",""),sessionStorage.setItem("SyndicateRanking",""),e("setData",null),e("setBalance",0),e("setUserConfig",null);(0,b.F)()&&setTimeout((()=>{window.location=`/?modal=login&redirectTo=${encodeURIComponent(window.location.href||"/")}`}),300)},async getUser({commit:e,state:t,getters:o},a=!1){if(!a&&t.data||!localStorage.token)return;e("setProcessing",!0);e("setData",await(0,h.tE)(a)),e("setProcessing",!1)},async getBalance({commit:e},t=!1){if(!localStorage.token)return;e("setProcessingBalance",!0);const o=await(0,h.pR)(t);e("setBalance",o?.saldo||0),e("setProcessingBalance",!1),o?.primeiroDeposito&&o?.valorUltimoDeposito&&c.event({event:"firstPurchase",value:o?.valorUltimoDeposito}),!o?.primeiroDeposito&&o?.valorUltimoDeposito&&c.event({event:"confirmPurchase",value:o?.valorUltimoDeposito})},async updateUser({dispatch:e},t){try{await(0,h.DZ)(t),e("getUser",!0)}catch(e){throw console.error(e),new Error(e)}},async updatePassword({commit:e},{password:t,newPassword:o}){try{await(0,h.s3)(t,o)}catch(e){throw console.error(e),new Error(e)}},async setBetConfigOption({dispatch:e},t){if(!["none","any","higher"].includes(t))return Promise.reject(new Error("Opção inválida"));const o={dados:{alternativeOdds:{option:t},aceiteTermos:!0}};try{await(0,h.DZ)(o),e("getUser",!0)}catch(e){throw console.error(e),new Error(e)}},setAcceptCookie({commit:e},t){e("setAcceptCookies",t)}},B={setProcessing(e,t){e.isProcessing=t},setProcessingBalance(e,t){e.isProcessingBalance=t},setData(e,t){t&&"object"==typeof t&&["cpf","emailPadrao","dataNascimento","telefone","sobrenome","primeiroDeposito","dadosExtra","login"].forEach((e=>{e in t&&delete t[e]})),e.data=t},setBalance(e,t){e.balance=t||0},setUserConfig(e,t){t?.usuario?.primeiroDeposito&&delete t.usuario.primeiroDeposito,t?.usuario?.login&&delete t.usuario.login,e.userConfig=t||null},setSession(e,t){e.session=t},setAcceptCookies(e,t){t||(document.cookie.split(";").forEach((function(e){document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/")})),window.localStorage.removeItem("acceptCookie")),t&&(window.localStorage.getItem("acceptCookie")||(0,f.d8)("acceptCookie",t,365),e.acceptCookie=t,localStorage.setItem("acceptCookie",t))}};var I={namespaced:!0,state:()=>({isProcessing:!1,isProcessingBalance:!1,data:null,userConfig:null,balance:0,session:null,acceptCookie:localStorage.getItem("acceptCookie")||!1}),getters:C,actions:T,mutations:B};const P={setPermissions(e,t){e.produtosPermitidos=t.produtosPermitidos,e.exibirEsportes=t.exibirEsportes,e.menuHeader=t.menuHeader,e.permissoes.tempoMaxCancelamento=t.tempoMaxCancelamento,e.configuracoes={templateCadastro:t.templateCadastro,nomeFantasia:t.nomeFantasia,exibirCampoLive:t.exibirCampoLive,exibirEstatistica:t.exibirEstatistica||!1,loginPorTelefone:t.loginPorTelefone,exibirLogo:t.exibirLogo,exibirPromocoes:t.exibirPromocoes,contato:t.contato||[],footer:t.rodape,header:t.header,linguagemPadrao:t.linguagemPadrao||"pt-BR",moeda:t.moeda||"BRL",permiteSlotFun:t.permiteSlotFun||!1,tipoCotacao:t.tipoCotacao||1,tipoExibicaoCotacao:t.tipoExibicaoCotacao||1,gameTrackerConfig:(0,f.Zt)(t.gameTrackerConfig),geoLocationConfig:t.geoLocationConfig||{active:!1},metodoValidacao:t.metodoValidacao,xtremepush:!!t.xtremePushConfig,displayCookies:t.displayCookies||"",breakPeriod:t.breakPeriod,showOddsBetbuilder:t.showOddsBetbuilder||!1,eticket:t.eticket??!1,enableMFA:t.enableMFA??!1}},setDisclaimerShowed(e,t){e.disclaimerShowed=t}};var y={namespaced:!0,state:()=>({isFetching:!1,finish:!1,disclaimerShowed:!1,momentoExpiracao:new Date((new Date).getTime()+3e5),produtosPermitidos:[],exibirEsportes:!1,menuHeader:[],permissoes:{aoVivo:!1,bolao:!1,promocoes:!1,permiteCashOut:!1,pin:!1,eticket:!1,slot:!1,descontoGanho:0,valorMaxPremio:0,fatorGanhoFixo:0,regulamento:"",longoPrazo:!1,codigoPromocional:!1,tempoMaxCancelamento:0},configuracoes:{templateCadastro:{},nomeFantasia:"",pathAssets:"",exibirCampoLive:!1,exibirEstatistica:!1,loginPorTelefone:!1,exibirLogo:!1,exibirPromocoes:!1,exibirBotaoImprimir:!1,contato:[],footer:null,header:null,linguagemPadrao:"",moeda:"",tipoCotacao:null,tipoExibicaoCotacao:null,permiteSlotFun:!1,gameTrackerConfig:null,metodoValidacao:null,xtremepush:null,displayCookies:"full",breakPeriod:null,showOddsBetbuilder:!1,eticket:!1}}),getters:{getPermissoes:e=>e,getIdiomaPadrao:e=>e.configuracoes.linguagemPadrao,getTipoCotacao:e=>e.configuracoes.tipoCotacao},actions:{async init({commit:e}){try{const t=await r.U.get("/permissao.json");"string"==typeof t.rodape&&(t.rodape=JSON.parse(t.rodape)),e("setPermissions",t)}catch(e){console.error(e)}},handleDisclaimerShowed({commit:e}){e("setDisclaimerShowed",!0)}},mutations:P},L=o(8848),D=o(2724),O=o(2791),w=(o(9931),o(5300));const R={allowsValidationConsultation:({themeData:e})=>e?.allowsValidationConsultation??!1,loteriasBucketUrl:({serverLotteries:e})=>{const t=e?.find((e=>e.icon||e.logo));if(!t)return;const o=(t.icon||t.logo).split("/");return o?`${o[0]}//${o[2]}/`:""},getDefaultMenuIcon:({themeData:e})=>{const t=e?.lotsDefaultIconColor,o=e?.lotsDefaultIconType;return t||o?`/media/loterias/icons/default/${t??"orange"}/${o??"clover"}.svg`:"/media/loterias/icons/default.svg"},getLotPopHomeIcon:(e,{loteriasBucketUrl:t})=>`${t}${(0,f.ej)("theme")}/loteria-popular-home`,getClientId({apiData:e}){return e?.Cliente_ID},getRaffles({apiData:e}){if(!e)return;const t=new Date,o=e?.objRifas?.arrRifas?.map((o=>{const{objTipoJogo:a}=e?.arrTipoJogo?.find((e=>e.objTipoJogo?.sntTipoJogo===o.intTipoJogo))||{objTipoJogo:{}},i=e.arrExtracoesRifa.find((e=>e.tnyExtracao.toString()===o.tnyExtracao.toString()));if(!i)return null;const[s,r]=[0,2===a.tnyUnidade?a.tnyNumeroMax:Math.pow(10,a.tnyTamanhoMax||0)];if(![0,1,2].includes(o.TipoRifa_ID))return null;const n=o.sdtSorteio||o.lstDatas[0]||"";let c=n.split(" ")[0].split("-").reverse().join("/");c=(0,O.isToday)(c)?"Hoje":(0,O.isTomorrow)(c)?"Amanhã":c;return{id:o.Rifa_ID,name:o.vchTituloWeb||"Rifa sem título",description:{short:o.vchDescricaoWebLista,long:o.vchDescricaoWebItem},type:{0:"Padrão",1:"Cota Fixa",2:"Sem Repetição"}[o.TipoRifa_ID]??"Padrão",isFeatured:!!o.bitDestaqueWeb,date:{raw:n,text:c,object:new Date(n)},value:a.numValorFixo||0,prize:a.lstPremioFixo?.[0]?.vchPremioFixo||"1",image:o.vchImagemWebURL||"/media/img/raffle/placeholder.png",range:[s,r],extraction:{id:o.tnyExtracao,time:i.chrHorarioBloqueio,description:i.vchDescricao},result:o.vchResultado?.trim(),isTotalSalesCalculation:o.bitApuracaoTotalVenda,gameType:o.intTipoJogo,endSale:new Date(o.sdtFimVenda)<t}})).filter((e=>e));return o},activeLottery(){return window.location.href.split("/").reverse()[0].split("#")[0]},formatNumberToMoney:()=>e=>e?.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}),getLiveDataInfo({themeData:e}){return e?.liveDataInfo??{}},gameInfo2({apiData:e,colorMode:t},{loteriasBucketUrl:o}){const a={129:[19,29],12:[1,2]},i=e?.arrTipoJogo?.map(((i,s)=>{const r=i.objTipoJogo,n=r.vchNome.replaceAll(" ","-").toLowerCase(),c={type:[8888,8889,8890,8891,8892,8893,8894,8895].includes(r.sntTipoJogo)?"super-time":r.bitConcurso?"concurso":r.bitRifa?"rifa":"loteria-popular",name:r.vchNome,icon:`${o}${(0,f.ej)("theme")}/${t}/icon/${r.sntTipoJogo}`,logo:`${o}${(0,f.ej)("theme")}/${t}/logo/${r.sntTipoJogo}`,slug:n,url:`/loterias/${n}`,id:r.sntTipoJogo,systemId:r.sntTipoJogoSistema,info:{tnyNumeroMax:r.tnyNumeroMax,tnyNumeroMin:r.tnyNumeroMin,lstTamanhoFixo:i.lstTamanhoFixo?.filter((e=>e.tnyTamanho>=r.tnyTamanhoMin&&e.tnyTamanho<=r.tnyTamanhoMax)),showMaxPrize:!!(r.bitExibirValorMaximoPremioWeb??1)},game:{},bet:{multiplier:(0,D.TB)(i)},objConcursos:null};switch(c.type){case"concurso":{const t=[...e?.objConcursos?.arrConcursos||[],...e?.objConcursos?.arrConcursosGame||[]];c.objConcursos=t?.length&&t?.find((e=>e.sntTipoJogo===r.sntTipoJogo||e.sntTipojogo===r.sntTipoJogo))||null,c.info={...c.info,numValorMinimoAposta:r.numValorMinimoAposta},c.bet={...c.bet,arrOfBallAmount:(0,D.aX)(i),arrOfCorrectGuesses:(0,D.e6)(i),multiplierMegaBola:(0,D.TB)(i,!0),multiplierMegaBolaFormated:(0,D.TB)(i,!0)?.toLocaleString("pt-BR"),multiplierFormated:(0,D.TB)(i)?.toLocaleString("pt-BR"),premioMaximo:(0,D.DA)(i),premioFixo:i.lstPremioFixo?.[0]?.vchPremioFixo,dateExtractions:(0,D.U2)({gameId:r.sntTipoJogo,arrConcursos:e?.objConcursos?.arrConcursos})||null};break}case"super-time":c.objConcursos=e?.objConcursos?.arrConcursosGame?.find((e=>e.sntTipoJogo===r.sntTipoJogo||e.sntTipojogo===r.sntTipoJogo))||null,c.bet={...c.bet,arrOfBallAmount:(0,D.aX)(i),arrOfCorrectGuesses:(0,D.e6)(i),multiplierMegaBola:(0,D.TB)(i,!0),multiplierMegaBolaFormated:(0,D.TB)(i,!0)?.toLocaleString("pt-BR"),multiplierFormated:(0,D.TB)(i)?.toLocaleString("pt-BR")};break;case"loteria-popular":{const e=i.lstPremioExtracao?.find((e=>0===e?.tnyExtracao))??i.lstPremioExtracao?.[0],t=0===e?.tnyExtracao,o=t?e?.tnyPremioMenor??1:1,s=t?e?.tnyPremioMaior??5:5;c.bet={...c.bet,rewardBasedOnPrizes:i.lstTipoJogoQuantidadePremio,maxRewardBasedOnPrizes:i.lstTipoJogoQuantidadePremio?.reduce(((e,t)=>e.numValorPago>t?e.numVlaorPago:t),0),hasFixedPrizes:!!r.bitApenasPremiosFixos,fixedPrizes:i.lstPremioFixo.map((e=>e.vchPremioFixo)),hasPermutations:!!r.bitInversao&&1===r.tnyUnidade,hasCombinations:!!r.bitInversao&&r.tnyUnidade>=2,minValue:r.numValorFixo||r.numValorMinimoAposta||1,maxValue:r.numValorFixo||500,hasFixedValueMultiplier:!!r.bitPermiteMultiploValorFixo,subBets:a[r.sntTipoJogoSistema]??null,prizeRange:new Array(s-o+1).fill().map(((e,t)=>o+t)),isPreDated:!!r.bitPredatavel,maxPrizes:r.tnyQtdMaximaPremio||6,minPrizes:r.tnyQtdMinimaPremio||0,showMaxPrize:!!(r.bitExibirValorMaximoPremioWeb??1)},c.game={...c.game,isRifa:!!r.bitRifa,isBolao:!!r.bitBolao,isGroup:25===r.tnyNumeroMax&&1===r.tnyNumeroMin,maxLength:r.tnyTamanhoMax,minLength:r.tnyTamanhoMin,slotLength:r.tnyUnidade,slotAmount:r.tnyUnidade>1?Math.ceil(r.tnyTamanhoMin/r.tnyUnidade):1,minNumber:r.tnyNumeroMin,maxNumber:r.tnyNumeroMax},c.info={...c.info,group:r.vchNomeAgrupamento||"Mais jogados"},c.game.minNumber=c.game.isGroup?1:0,c.game.maxNumber=c.game.isGroup?25:9;break}}return c})),s=[500];return i?.filter((e=>!s.includes(e.id)&&!e.game.isBolao))},getLotteries(e,t){const o=t.gameInfo2,a=o?.filter((e=>"concurso"===e.type&&!!e.objConcursos)),i=o?.find((e=>"super-time"===e.type&&e.objConcursos)),s=o?.filter((e=>"super-time"===e.type&&!e.objConcursos)),r=o?.filter((e=>"loteria-popular"===e.type)).reduce(((e,t)=>{if(!e)return t.bet.minValue||1;const o=t.bet.minValue||1;return e<o?e:o}),null),n=Math.max(...t.getLoteriaPopularPriceList.map((e=>e.value))),c=o?.some((e=>"loteria-popular"===e.type))?{id:0,type:"loteria-popular",slug:"loteria-popular",name:"Loteria Popular",systemId:0,settings:o.find((e=>"loteria-popular"===e.type))?.settings,info:{},bet:{multiplier:n,minValue:1},game:{}}:null,l=t.getRaffles?.length?{type:"loteria-popular",slug:"rifa",name:"Rifa",info:{},bet:{multiplier:n,minValue:r},game:{}}:null;return(c?[c]:[]).concat(l?[l]:[]).concat(a||[]).concat(i?[{...i,gameIds:s}]:[])},getGameInfo2ByTipoJogo:(e,t)=>e=>t.gameInfo2?.find((t=>t.id===e)),getActiveGameInfo2:(e,t)=>t.gameInfo2?.find((e=>e.id===t.getMapSlugs[t.activeLottery])),gameInfo(e){if(!e)return;const{apiData:t}=e;return t?.arrTipoJogo?.map(((e,t)=>({...e.objTipoJogo,arrIndex:t,premioFixo:e.lstPremioFixo?.[0]?.vchPremioFixo}))).reduce(((e,t)=>({...e,[t.vchNome]:t})),{})},getMapSlugs(e,t){const o={},a=t.gameInfo2;return a?.forEach((e=>{o[e.slug]=e.id,o["super-premio"]=a?.find((e=>"rifa"===e.slug))?.id})),o},getLoteriaPopularPriceList(e,t){const o=[],a=t.gameInfo2?.filter((e=>"loteria-popular"===e.type));return a?.forEach((e=>{o.push({name:e.name,value:Math.max(e.bet.multiplier??0,e.bet.maxRewardBasedOnPrizes.numValorPago??0)})})),o},getTeamGuessPrize(e){if(!e)return;const{apiData:t}=e;return t?.arrTipoJogo?.find((e=>8888===e.objTipoJogo.sntTipoJogo))?.objTipoJogo.numValorPagoJogo},getSuperTimePriceList(e){if(!e)return;const{apiData:t}=e,o=[],a=Object.values(D.Fv);return t?.arrTipoJogo?.forEach((e=>{const t=a.find((t=>t.id===e.objTipoJogo.sntTipoJogo));t&&o.push({name:t.name,slug:t.slug,value:e.objTipoJogo.numValorPagoJogo})})),o},getPricelistByNumber:(e,t)=>e=>{const o=t.getPrizeTable(e).numerosJogados;if(!o)return[];return Object.keys(o).map((e=>({ballAmount:e,numValorPagoTamanhoFixo:o[e].numValorPago||o[e].numValorPagoTamanhoFixo,correctGuesses:void 0!==o[e].numValorPago?[{acertos:e,numValorPago:o[e].numValorPago,numValorPagoMegaBola:o[e].numValorPagoMegaBola}]:Object.keys(o[e]).sort(((e,t)=>t-e)).map((t=>({acertos:t,numValorPago:o[e][t].numValorPago,numValorPagoMegaBola:o[e][t].numValorPagoMegaBola})))})))},getActiveNumValorMinimoAposta(e,{gameInfo2:t,getActiveGameInfo2:o,activeLottery:a}){if("loteria-popular"===a){const e=t?.find((e=>"loteria-popular"===e.type));return e?.bet?.minValue??0}const i=o;return i.bet?.minValue||i.info?.numValorMinimoAposta||1},activeLotteryMultiplier:(e,t)=>(e=!1,o=!1)=>{const a=t.getGameInfo2ByTipoJogo(t.getMapSlugs[t.activeLottery]);return e?o?a?.bet?.multiplierMegaBolaFormated:a?.bet?.multiplierFormated:o?a?.bet?.multiplierMegaBola:a?.bet?.multiplier},maxPrizeInfo(e){if(!e)return;const{apiData:t}=e;return t?.arrTipoJogo?.map((e=>({...e.lstTamanhoFixo})))},getGameInfoLotteries:(e,t)=>{const o=t.getMapSlugs,a={};return Object.keys(o).forEach((e=>{const i=t.gameInfo2?.find((t=>t.id===o[e]));a[e]=i||null})),a},getContestInfoLotteries(e,t){const o=t.getMapSlugs,a={};return Object.keys(o).forEach((e=>{const i=t.gameInfo2?.find((t=>t.id===o[e]));a[e]=i?.objConcursos||null})),a},superTimeOptions(e){if(!e)return;const{apiData:t}=e;return t?.arrTipoJogo?.find((e=>8888===e.objTipoJogo.sntTipoJogo))?.lstItem.reduce(((e,t)=>!!e.find((e=>e.sntNumero===t.sntNumero))?e:[...e,t]),[])},teams(e){if(!e)return;const{apiData:t}=e;return t?.teams??[]},teamsByLeague(e){if(!e)return;const{apiData:t}=e;return t?.teams.reduce(((e,t)=>({...e,[t.league]:[...e[t.league]??[],t]})),{})},leagues({apiData:e},t){return e?.leagues.map(((e,o)=>({...e,number:e.range[0],index:o+1,multiplier:t.getSuperTimePriceList.find((t=>t.slug===e.slug)).value})))},leagueApiCodes(e){if(!e)return;const{apiData:t}=e;return t?.arrTipoJogo?.filter((({objTipoJogo:e})=>"Liga"===e.vchNomeAgrupamento)).map((({objTipoJogo:e})=>e)).reduce(((e,t)=>({...e,[t.vchNome]:t})),{})},preDatedDays({apiData:e}){return Math.min(e?.config?.tnyQtdDiasPre??0,7)},getPrizeTable:(e,t)=>e=>{let o=0;const a=t.getActiveGameInfo2,i=a?.bet?.premioMaximo||0,s=a?.info?.lstTamanhoFixo?.reduce(((e,t)=>{o<t.numValorMaximoAposta&&(o=t.numValorMaximoAposta);const a=t.lstPagoQtdAcertos?.reduce(((e,t)=>({...e,[`${t.tnyQtdAcertos}`]:{numValorPago:t.numValorPago,numValorPagoMegaBola:t.numValorPagoMegaBola}})),{}),i={numValorPago:t.numValorPagoTamanhoFixo};return{...e,[""+t.tnyTamanho/2]:a||i}}),{});return{maxPrize:i,maxBet:o,numerosJogados:s}},getActivePrizeTable(e,t){return t.getPrizeTable(t.getMapSlugs[t.activeLottery])},getActiveLotteryBallAmount(e,t){const o=t.getActivePrizeTable;return o?.numerosJogados?Object.keys(o.numerosJogados).map((e=>parseInt(e))).filter((e=>!isNaN(e))).sort(((e,t)=>e-t)):[]},getPrizeBasedInCorrectGuesses:(e,t)=>({ballAmount:e,correctGuesses:o,megaBola:a=!1,betValue:i=1,maxPossiblePrize:s=Number.MAX_SAFE_INTEGER})=>{const r=t.getPrizeTable(t.getMapSlugs[t.activeLottery]),n=a?"numValorPagoMegaBola":"numValorPago",c=(o>=0?r?.numerosJogados?.[e]?.[o]?.[n]:r?.numerosJogados?.[e]?.[n])||0;return s?Math.min(c*i,s):c*i},getAwardedCorrectGuesses:(e,t)=>e=>{const o=t.getPrizeTable(t.getMapSlugs[t.activeLottery])?.numerosJogados?.[e];if(!o)return[];return Object.keys(o).map((e=>parseInt(e))).sort(((e,t)=>e-t)).filter((e=>!isNaN(e)))},getMaxPrizeOfBallAmount:(e,t)=>({ballAmount:o,megaBola:a=!1,betValue:i=1,maxPossiblePrize:s=Number.MAX_SAFE_INTEGER})=>{const r=t.getAwardedCorrectGuesses(o).reverse()[0],n=e.apiData?.arrTipoJogo?.find((e=>e.objTipoJogo.sntTipoJogo===t.getActiveGameInfo2.id)),c=(0,D.DA)(n,o),l=t.getPrizeBasedInCorrectGuesses({ballAmount:o,correctGuesses:r,megaBola:a,betValue:i,maxPossiblePrize:c??s});return l?{prize:l,guesses:r}:{prize:0,guesses:0}},lotBasicData:({apiData:e,themeData:t,serverLotteries:o})=>a=>{if(!e||!t||!o)return;const i=e.arrTipoJogo.find((e=>e.objTipoJogo.sntTipoJogo===a));if(!i||!i.objTipoJogo)return{};const s=i.objTipoJogo,{icon:r,logo:n}=o.find((e=>e.id===s.sntTipoJogo))??{};return{name:s.vchNome,slug:s.vchNome.trim().toLowerCase().replaceAll(" ","-"),icon:r,logo:n}},extractionHour:({apiData:e})=>t=>e?.arrExtracoes?.find((e=>parseInt(e.tnyExtracao)===parseInt(t)))?.chrHorario??"",gameMaxPrize:({apiData:e})=>t=>{const o=e?.arrTipoJogo?.find((e=>e.objTipoJogo.sntTipoJogo===t));return o?o.lstTamanhoFixo.reduce(((e,t)=>t.numValorPagoTamanhoFixo>e?t.numValorPagoTamanhoFixo:e),0):0},turnLotteries({apiData:e,liveData:t},{gameMaxPrize:o,lotBasicData:a}){if(!e)return[];const i=e.objConcursos.arrConcursosGame;return 0===i.length?[]:i.reduce(((e,i)=>{const s=i.sntTipojogo,r=o(s)??0;if(e.find((e=>e.id===s)))return e;const{name:n,slug:c,icon:l,logo:d}=a(s)??{},u=t?.find((e=>e.gameType===s));return[...e,{id:s,name:n,slug:c,icon:l,logo:d,multiplier:r,nextDraw:u?u.isLive?"Ao Vivo!":u.timer??"--:--":"--:--"}]}),[])},dailyLotteries({apiData:e},{gameMaxPrize:t,lotBasicData:o,extractionHour:a}){if(!e)return[];const i=e.objConcursos.arrConcursos;return 0===i.length?[]:i.reduce(((e,i)=>{const s=i.sntTipojogo,r=i.sdtData,n=t(s)??0,c=e.find((e=>e.id===s));if(c)return c.nextDraw>r&&(c.nextDraw=r),e;const{name:l,slug:d,icon:u,logo:m}=o(s)??{};return[...e,{id:s,name:l,slug:d,icon:u,logo:m,multiplier:n,nextDraw:r,nextDrawTime:a(i.tnyExtracao)??""}]}),[])},lotPop(e,t){return t.gameInfo2?.filter((e=>"loteria-popular"===e.type))??[]},isSessionLoaded(e){if(!e)return;const{apiData:t}=e;return!!t},contestLotteries(e,{turnLotteries:t,dailyLotteries:o}){return[...o,...t]},groups(){const e=["Avestruz","Águia","Burro","Borboleta","Cachorro","Cabra","Carneiro","Camelo","Cobra","Coelho","Cavalo","Elefante","Galo","Gato","Jacaré","Leão","Macaco","Porco","Pavão","Peru","Touro","Tigre","Urso","Veado","Vaca"];return new Array(25).fill(0).map(((t,o)=>({number:(o+1).toString().padStart(2,"0"),name:e[o],image:`/media/loterias/groups/group${o+1}.svg`,tens:new Array(4).fill(0).reduce(((e,t,a)=>`${e}${(4*o+a+1).toString().padStart(2,"0").slice(-2)}, `),"").slice(0,-2)})))},isDecorated({themeData:e}){return e?.usesDecoratedGroups}},A={async init({state:e,getters:t,commit:o,dispatch:a}){a("toggleLotsColorMode");try{const a=await(0,S.Sk)();o("setGames",a);const i=await(0,L.g)();o("setThemeData",i);const s=t?.getLiveDataInfo?.drawDurations;(await(0,w.Z)()).subscribe((t=>{s&&e.themeData&&t.detail&&o("setLiveData",t.detail.filter((e=>Object.keys(s).includes(`game-id-${e.gameType}`))).map((e=>{const t=(new Date).getTime(),o=new Date(e.upcomingDraw).getTime(),a=new Date(e.previousDraw.timestamp).getTime(),i=1e3*s[e.gameType],r=o-t,n=r>0?r/1e3:0;return{...e,isLive:t-a<i||t>o,timer:(0,f.Sw)(n)}})))}))}catch(e){}},updateServerLotteries({state:e,commit:t},{data:o}){o&&t("setServerLotteries",o)},async toggleLotsColorMode({state:e,commit:t}){t("setColorMode",(0,f.ej)("color_mode")??"light");const o=e?.serverLotteries;o&&o.forEach((e=>{e.icon&&(e.icon=e.icon.replace(e.icon.split("/").slice(-3,-2),(0,f.ej)("color_mode")??"light")),e.logo&&(e.logo=e.logo.replace(e.logo.split("/").slice(-3,-2),(0,f.ej)("color_mode")??"light"))}))},async getLoteriaPopularLive({state:e,dispatch:t,commit:o}){e.loteriaLiveLoading=!0,e.apiData||await t("init");const a=e?.apiData?.arrExtracoes.filter((e=>!!e.bitHoje&&!!e.chrHorario));if(!a||a.length<=0)return;const i=new Date,s=a.findIndex((e=>{const[t,o]=e.chrHorario.split(":");return(0,f.xA)({hours:t,minutes:o,seconds:0})>i})),[r,n]=a[a.length-1].chrHorario.split(":"),c=(0,f.xA)({hours:r,minutes:n,seconds:0}),l=-1===s&&c<i,d=0===s,[u,m]=a[d||l?a.length-1:s-1].chrHorario.split(":"),[p,g]=a[l?0:s].chrHorario.split(":"),h=a[l?0:s].vchDescricao,b=new Date;d&&b.setDate(b.getDate()-1),b.setHours(u,m);const E=(0,f.Q8)(b),v=new Date;l&&v.setDate(v.getDate()+1),v.setHours(p,g);const C=(0,f.Q8)(v),T=d?`${b.getFullYear()}-${(0,f.yB)(b.getMonth()+1)}-${(0,f.yB)(b.getDate())}`:`${i.getFullYear()}-${(0,f.yB)(i.getMonth()+1)}-${(0,f.yB)(i.getDate())}`;let B;try{B=await(0,S.Z8)({date:T,gameType:0,isPopular:!0,force:!0})}catch(t){e.loteriaLiveLoading=!1}const I=B?.draws?.reduce(((e,t)=>e.concat([t.previousDraws])),[]).flat(1).sort(((e,t)=>e.timestamp>t.timestamp)),P=I?.find((e=>e.timestamp===E))||I[0],y={gameType:0,previousDraw:{timestamp:E,raffleds:P?P.raffledPop:[]},upcomingDrawExtractionName:h,upcomingDraw:C,hasLiveDraw:!!e.themeData?.liveDataInfo?.drawDurations?.["loteria-popular"]};return o("setLoteriaPopularLive",y),t("updateLoteriaPopularLive"),e.loteriaLiveLoading=!1,y},async updateLoteriaPopularLive({state:e,dispatch:t}){e?.themeData?.liveDataInfo?.drawDurations?.["loteria-popular"]&&setInterval((()=>{const o=new Date(e.loteriaPopularLive.upcomingDraw).getTime(),a=(new Date).getTime();e?.themeData?.liveDataInfo?.drawDurations?.["loteria-popular"]+o<a&&!e.loteriaLiveLoading&&t("getLoteriaPopularLive",{apiData:e.apiData})}),5e3)},async getContestResultsRecursively({dispatch:e},{id:t,counter:o,isPopular:a}){let i=isNaN(o)?0:o;const s=new Date;s.setDate(s.getDate()-i);let r=[];try{r=await(0,S.Z8)({date:(0,n.p6)(s,"YYYY-MM-DD"),gameType:t,isPopular:a??!1,force:!0})}catch(e){}return r&&a?r:r?.draws?r.draws[0].previousDraws.slice(0,10):(i++,i>5?[]:e("getContestResultsRecursively",{id:t,counter:i}))}},x={setGames(e,t){e.apiData=t},setThemeData(e,t){e.themeData=t},setWebSocketData(e,t){e.webSocketData=t},setLiveData(e,t){e.liveData=t},setLoteriaPopularLive(e,t){e.loteriaPopularLive=t},setColorMode(e,t){e.colorMode=t},setServerLotteries(e,t){e.serverLotteries=t}};var F={namespaced:!0,state:()=>({apiData:null,themeData:null,colorMode:(0,f.ej)("color_mode")||"light",webSocketData:null,liveData:null,loteriaPopularLive:null,loteriaLiveLoading:!1,serverLotteries:[]}),getters:R,actions:A,mutations:x},_=o(9612);const k={BILHETES_REQUEST:"bilhetesRequest",BILHETES_SUCCESS:"bilhetesSuccess",BILHETES_ERROR:"bilhetesError",PRECONSULTA_CASHOUT_REQUEST:"preconsultaCashoutRequest",PRECONSULTA_CASHOUT_SUCCESS:"preconsultaCashoutSuccess",PRECONSULTA_CASHOUT_ERROR:"preconsultaCashoutError",CASHOUT_REQUEST:"cashoutRequest",CASHOUT_SUCCESS:"cashoutSuccess",CASHOUT_ERROR:"cashoutError",CANCELAR_BILHETE_REQUEST:"cancelarBilheteRequest",CANCELAR_BILHETE_SUCCESS:"cancelarBilheteSuccess",CANCELAR_BILHETE_ERROR:"cancelarBilheteError",BILHETES_AOVIVO_ABERTO_SUCCESS:"bilhetesAoVivoAbertoSuccess",BILHETES_FINALIZADO_SUCCESS:"bilhetesFinalizadoSuccess",INCREMENT_BILHETES_AOVIVO_ABERTO:"incrementeBilhetesAoVivoAberto"},M={isFetchingCancelamento:!1,isFetchingPreconsultaCashout:!1,showEventos:!1,cashout:null,cashoutDisabled:!1,cashoutSuspended:!1,statusTemp:"",idTipoVenda:0,numeroBilhete:0,numeroBilheteSec:"",valorPremio:0,valorPago:0,idStatus:0,nomeStatus:"",momento:20201015133021,autenticacao:"",impresso:!1,comissao:0,opcoesSelecionadas:[],hasLiveEventNow:!1,isFetchingCashout:!1,errorCashout:null,showTagEncerrada:!1},U={getBilheteDetalhes:(e,t)=>(e,t)=>{t.eventos=t.eventosBilhetes,delete t.codResposta,delete t.mensagem,delete t.eventosBilhetes;const o=e.findIndex((e=>e.numeroBilhete===t.numeroBilhete));return-1!==o?[...e.slice(0,o),t,...e.slice(o+1)]:[...e,t]},bilhetes:(e,t)=>(e,o)=>{switch(o.type){case k.BILHETES_REQUEST:case k.BILHETES_SUCCESS:case k.BILHETES_AOVIVO_ABERTO_SUCCESS:case k.BILHETES_FINALIZADO_SUCCESS:case k.BILHETES_ERROR:return e.map((e=>t.bilhete(e,o)));case k.PRECONSULTA_CASHOUT_REQUEST:case k.PRECONSULTA_CASHOUT_SUCCESS:case k.PRECONSULTA_CASHOUT_ERROR:case k.CASHOUT_REQUEST:case k.CASHOUT_SUCCESS:case k.CASHOUT_ERROR:case k.CANCELAR_BILHETE_REQUEST:case k.CANCELAR_BILHETE_SUCCESS:case k.CANCELAR_BILHETE_ERROR:case k.CANCELAR_BILHETE_SET:{const a=e.findIndex((e=>e.numeroBilhete===o.numeroBilhete));if(a>=0)return e[a]=t.bilhete(e[a],o),e;break}default:return e}},bilhete:(e,t)=>(e=M,t)=>{switch(t.type){case k.BILHETES_AOVIVO_ABERTO_SUCCESS:case k.BILHETES_FINALIZADO_SUCCESS:case k.BILHETES_SUCCESS:return{...M,...e,nomeStatus:1===e.idStatus?"Aguardando":6===e.idStatus?"Encerrada":e.nomeStatus,opcoesSelecionadas:e.opcoesSelecionadas.map((e=>({...e,nomeStatus:5===e.idStatus?"Encerrada":e.nomeStatus})))};case k.PRECONSULTA_CASHOUT_SUCCESS:return{...e,cashout:t.cashout.cashout,cashoutDisabled:!1,cashoutSuspended:!1,hasLiveEventNow:t.cashout.existEventoLiveNow,isFetchingPreconsultaCashout:!1};case k.PRECONSULTA_CASHOUT_ERROR:return{...e,cashout:null,cashoutDisabled:"326"!==t.error.code,cashoutSuspended:"326"===t.error.code,isFetchingPreconsultaCashout:!1};case k.CASHOUT_REQUEST:return{...e,isFetchingCashout:!0,cashoutError:null};case k.CASHOUT_SUCCESS:return{...e,valorCashout:e.cashout,cashout:null,idStatus:6,valorPremio:e.cashout,nomeStatus:"Encerrada",statusTemp:"isSettled",isFetchingCashout:!1,showTagEncerrada:!0,opcoesSelecionadas:e.opcoesSelecionadas.map((e=>({...e,nomeStatus:"Encerrada",idStatus:5})))};case k.CASHOUT_ERROR:return{...e,isFetchingCashout:!1,errorCashout:t.error,cashoutDisabled:!0};case k.CANCELAR_BILHETE_REQUEST:return{...e,isFetchingCancelamento:!0};case k.CANCELAR_BILHETE_SUCCESS:return{...e,isFetchingCancelamento:!1,idStatus:2,statusTemp:"isSettled",nomeStatus:"Cancelado",opcoesSelecionadas:e.opcoesSelecionadas.map((e=>({...e,nomeStatus:"Não Processado",idStatus:1})))};case k.CANCELAR_BILHETE_ERROR:return{...e,isFetchingCancelamento:!1};case k.CANCELAR_BILHETE_SET:return{...e,isFetchingCancelamento:!1,idStatus:2,nomeStatus:"Cancelado",opcoesSelecionadas:e.opcoesSelecionadas.map((e=>({...e,nomeStatus:"Não Processado",idStatus:1})))};default:return e}}},V={bilhetesRequest({commit:e}){e("bilhetesRequest")},bilhetesSuccess({commit:e,getters:t},o){const a={type:k.BILHETES_SUCCESS,bilhetes:o};e("bilhetesSuccess",t.bilhetes(o,a))},bilhetesError({commit:e},{error:t,errorMessage:o}){e("bilhetesError",{error:t,errorMessage:o})},cancelarBilheteRequest({commit:e,state:t,getters:o},a){const i={type:k.CANCELAR_BILHETE_REQUEST,numeroBilhete:a};e("cancelarBilheteRequest",o.bilhetes(t.bilhetes,i))},cancelarBilheteSuccess({commit:e,state:t,getters:o},a){const i={type:k.CANCELAR_BILHETE_SUCCESS,numeroBilhete:a};e("cancelarBilheteSuccess",o.bilhetes(t.bilhetes,i))},cancelarBilheteError({commit:e,state:t,getters:o},a){const i={type:k.CANCELAR_BILHETE_ERROR,numeroBilhete:a};e("cancelarBilheteError",o.bilhetes(t.bilhetes,i))},bilheteDetalhesRequest({commit:e}){e("bilheteDetalhesRequest")},bilheteDetalhesSuccess({commit:e,state:t,getters:o},a){e("bilheteDetalhesSuccess",o.getBilheteDetalhes(t.bilhetes,a))},bilheteDetalhesError({commit:e},{error:t,errorMessage:o}){e("bilheteDetalhesError",{error:t,errorMessage:o})},preconsultaCashoutRequest({commit:e,state:t,getters:o},{numeroBilhete:a,showLoading:i}){const s={type:k.PRECONSULTA_CASHOUT_REQUEST,showLoading:i,numeroBilhete:a};e("preconsultaCashoutRequest",o.bilhetes(t.bilhetes,s))},preconsultaCashoutSuccess({commit:e,state:t,getters:o},{cashout:a,numeroBilhete:i}){const s={type:k.PRECONSULTA_CASHOUT_SUCCESS,cashout:a,numeroBilhete:i};e("preconsultaCashoutSuccess",o.bilhetes(t.bilhetes,s))},preconsultaCashoutError({commit:e,state:t,getters:o},{error:a,numeroBilhete:i}){const s={type:k.PRECONSULTA_CASHOUT_ERROR,error:a,numeroBilhete:i};e("preconsultaCashoutError",o.bilhetes(t.bilhetes,s))},cashoutRequest({commit:e,state:t,getters:o},{numeroBilhete:a}){const i={type:k.CASHOUT_REQUEST,numeroBilhete:a};e("cashoutRequest",o.bilhetes(t.bilhetes,i))},cashoutSuccess({commit:e,state:t,getters:o},{numeroBilhete:a}){const i={type:k.CASHOUT_SUCCESS,numeroBilhete:a};e("cashoutSuccess",o.bilhetes(t.bilhetes,i))},cashoutError({commit:e,state:t,getters:o},{error:a,numeroBilhete:i}){const s={type:k.CASHOUT_ERROR,error:a,numeroBilhete:i};e("cashoutError",o.bilhetes(t.bilhetes,s))},async fetchBilhetes({dispatch:e},{inicio:t,fim:o}){try{if(!t||!o||new Date(t)>new Date(o))return _.Z.error("Informe um período válido"),e("bilhetesError",{errorMessage:"Informe um período válido"});e("bilhetesRequest");const a=(0,f.L3)(t),i=(0,f.L3)(o),{data:r}=await s.W.get("/usuario/apostas",{params:{dtInicio:a,dtFim:i}});return"137"===r.code||"047"===r.code?(_.Z.error(r.message),e("bilhetesError",{error:r.message})):(e("bilhetesSuccess",r.bilhetes),r)}catch(t){e("bilhetesError",{error:t}),console.error(t)}},async fetchBilheteDetalhes({dispatch:e},t){try{e("bilheteDetalhesRequest");const{data:o}=await s.W.get("/sp/relatorio/bilhete/detalheEventos/listar",{params:{idBilhete:t}});return e("bilheteDetalhesSuccess",o),o}catch(t){e("bilheteDetalhesError",t),console.error(t)}},async fetchCancelarBilhete({dispatch:e},{bilhete:t,callback:o,errorMessage:a}){try{e("cancelarBilheteRequest",t.numeroBilhete);const{data:i}=await s.X.post("/sp/operacional/cancelamento/bilhete/pedido/",{idBilhete:t.numeroBilhete,autenticacao:t.autenticacao,valorPago:Math.floor(100*t.valorPago),idMotivo:99,observacao:"",confirmar:!0});"000"===i.codResposta?(_.Z.success(i.mensagem),e("cancelarBilheteSuccess",t.numeroBilhete)):i.mensagem&&("193"===!i.codResposta?_.Z.error(i.mensagem):_.Z.error(a),e("cancelarBilheteError",t.numeroBilhete)),o()}catch(o){_.Z.error(o.message),e("cancelarBilheteError",t.numeroBilhete),console.error(o)}},async fetchPreconsultaCashout({dispatch:e},{bilhete:t,showLoading:o}){const a=t.numeroBilhete;e("preconsultaCashoutRequest",{showLoading:o,numeroBilhete:a});try{const{data:o}=await s.W.get("/venda/cashout",{params:{idBilhete:t.numeroBilhete}});e("preconsultaCashoutSuccess",{cashout:o,numeroBilhete:a})}catch(t){console.error(t),e("preconsultaCashoutError",{error:t,numeroBilhete:a})}},async fetchCashout({dispatch:e},{bilhete:t,callback:o}){const a=t.numeroBilhete;e("cashoutRequest",{numeroBilhete:a});try{const{data:i}=await s.W.post("/venda/cashout",{cashout:t.cashout,idBilhete:a,autentic:t.autenticacao});"000"===i.codResposta&&(_.Z.success("Aposta encerrada com Sucesso"),e("cashoutSuccess",{numeroBilhete:a}),o())}catch(o){if("325"===o.code)return _.Z.error("O valor foi atualizado"),e("cashoutError",{error:o,numeroBilhete:a}),void e("fetchPreconsultaCashout",{bilhete:t,showLoading:!1});_.Z.error(o.message),e("cashoutError",{error:o,numeroBilhete:a})}},setIsFetching({commit:e}){e("isFetching")}},N={bilhetesRequest(e){e.isFetching=!0,e.aviso=null,e.avisoIntl=null},bilhetesSuccess(e,t){e.isFetching=!1,e.aviso=null,e.avisoIntl=null,e.bilhetes=[...t]},bilhetesError(e,{error:t,errorMessage:o}){e.isFetching=!1,e.aviso=t||null,e.avisoIntl=o||null},cancelarBilheteRequest(e,t){e.bilhetes=[...t]},cancelarBilheteSuccess(e,t){e.bilhetes=[...t]},cancelarBilheteError(e,t){e.bilhetes=[...t]},bilheteDetalhesRequest(e){e.isFetchingBilheteDetalhes=!0},bilheteDetalhesSuccess(e,t){e.isFetchingBilheteDetalhes=!1,e.bilhetes=[...t]},bilheteDetalhesError(e,{error:t,errorMessage:o}){e.isFetchingBilheteDetalhes=!1,e.aviso=t||null,e.avisoIntl=o||null},preconsultaCashoutRequest(e,t){e.bilhetes=[...t]},preconsultaCashoutSuccess(e,t){e.bilhetes=[...t]},preconsultaCashoutError(e,t){e.bilhetes=[...t]},cashoutRequest(e,t){e.bilhetes=[...t]},cashoutSuccess(e,t){e.bilhetes=[...t]},cashoutError(e,t){e.bilhetes=[...t]},isFetching(e){e.isFetching=!e.isFetching}};var H={namespaced:!0,state:e=>({isFetching:!1,aviso:null,avisoIntl:null,bilhetes:[],bilhetesAoVivo:[],bilhetesAberto:[],bilhetesFinalizado:[],incrementoBilhetesAbertos:0}),getters:U,actions:V,mutations:N},J=o(6088);const j={create({commit:e,dispatch:t}){(0,J.u1)(J.mE.SLOTS).then((()=>{t("init")})).catch((t=>{console.error(t),e("update")}))},init({commit:e,dispatch:t}){(0,J.lI)(J.mE.SLOTS).then((t=>{const o=(t?.data?.gamesFavoritos||[]).find((e=>e.idCategoriaFavorito===J.mE.SLOTS))||null;e("update",{idList:o?.id||0,items:o?.metadata||[],isLoaded:!0})})).catch((o=>{console.error(o),o.code&&"218"===o.code?t("create"):e("update")})).finally((()=>{e("setFetching",!1)}))},updateRemote({state:e,dispatch:t,commit:o},a=[]){o("setFetching",!0),(0,J.Zr)({idList:e.idList,items:a||[]}).then((()=>{t("init")})).catch((t=>{console.error(t),o("update",{idList:e.idList,items:e.items}),o("setFetching",!1)}))},reset({commit:e}){e("update")},toggleFavoriteItem({state:e,commit:t,getters:o,dispatch:a},{slug:i,path:s,name:r}){if(e.isFetching)return;const n=o.itemsIndexes.findIndex((e=>e===i)),c=[...e.items];-1===n?c.push({slug:i,path:s,nome:r}):c.splice(n,1),a("updateRemote",c),t("update",{idList:e.idList,items:c,isLoaded:!0})}},$={update(e,t){e.idList=t?.idList||0,e.items=t?.items||[],e.isLoaded=t?.isLoaded??!1},setFetching(e,t){e.isFetching=t}};var q={namespaced:!0,state:()=>({items:[],idList:0,isFetching:!1,isLoaded:!1}),getters:{count:e=>(e.items||[]).length,itemsIndexes:e=>e.items.map((e=>`${e.slug}`)),objSectionsCount:e=>{const t={};return(e.items||[]).forEach((e=>{const o=(e?.path||"").split("/").filter((e=>!!e)).shift()||"none";t[o]?t[o]+=1:t[o]=1})),t}},actions:j,mutations:$},z=o(8986);const G={async getFavoriteChampionshipsList({state:e,dispatch:t},o){let a=e.items.map((e=>{const[t,o,a]=e.slug.split("|");return{...e,torneio:t,pais:o,tipoEsporte:a}}));o?.sport&&(a=a.filter((e=>+e.tipoEsporte===o.sport)));const i=[];a.forEach((e=>{const t={championship:e.torneio,country:e.pais,sort:o?.sort,sport:parseInt(e.tipoEsporte,10)},a=(async()=>{const o=[(0,z.uY)({type:"live",...t,filter:{iniciado:!0}}),(0,z.uY)({type:"prematch",...t})],a={totalEventos:0,eventos:[]};return(await Promise.all(o)).forEach((e=>{a.totalEventos+=e?.totalEventos||0,a.eventos=[].concat(a.eventos,e.eventos||[])})),{slug:e.slug,data:a}})();i.push(a)}));try{const e=await Promise.all(i),o=[],a={totalEventos:0,eventos:[]};return e.forEach((e=>{e.data.totalEventos||o.push(e.slug),a.totalEventos+=e?.data?.totalEventos||0,a.eventos=[].concat(a.eventos,e.data?.eventos||[])})),o.length&&t("removeItems",o),a}catch(e){return console.error(e),{eventos:[],totalEventos:0}}},create({commit:e,dispatch:t}){(0,J.u1)(J.mE.SPORTS_GROUP).then((()=>{t("init")})).catch((t=>{console.error(t),e("update")}))},init({commit:e,dispatch:t},o){(0,J.lI)(J.mE.SPORTS_GROUP).then((t=>{const a=(t?.data?.gamesFavoritos||[]).find((e=>e.idCategoriaFavorito===J.mE.SPORTS_GROUP))||null,i=a?.metadata||[],s=i.filter((e=>e.path.includes("esports"))),r=i.filter((e=>e.path.includes("esportes")));e("update",{idList:a?.id||0,items:o?i.filter((e=>-1!==e.path.indexOf(o))):i,itemsEsports:s,itemsEsportes:r,isLoaded:!0})})).catch((o=>{o.code&&"218"===o.code?t("create"):e("update")})).finally((()=>{e("setFetching",!1)}))},removeItems({state:e,dispatch:t},o){t("updateRemote",e.items.filter((e=>!o.includes(e.slug))))},updateRemote({state:e,dispatch:t,commit:o},a=[]){o("setFetching",!0),(0,J.Zr)({idList:e.idList,items:a||[]}).then((()=>{t("init")})).catch((t=>{console.error(t),o("update",{idList:e.idList,items:e.items}),o("setFetching",!1)}))},reset({commit:e}){e("update")},toggleFavoriteItem({state:e,commit:t,getters:o,dispatch:a},{slug:i,path:s,name:r}){if(e.isFetching)return;const n=o.itemsIndexes.findIndex((e=>e===i)),c=[...e.items];-1===n?c.push({slug:i,path:s,nome:r}):c.splice(n,1),a("updateRemote",c),t("update",{idList:e.idList,items:c,isLoaded:!0})},removeAllEventsBySportID({state:e,dispatch:t,commit:o},a){if(e.isFetching)return;const i=[...e.items].filter((e=>!e.slug.endsWith(`|${a}`)));t("updateRemote",i),o("update",{idList:e.idList,items:i,isLoaded:!0})}},Q={update(e,t){e.idList=t?.idList||0,e.items=t?.items||[],e.itemsEsports=t?.itemsEsports||[],e.isLoaded=t?.isLoaded??!1},setFetching(e,t){e.isFetching=t}};var Z={namespaced:!0,state:()=>({items:[],idList:0,isFetching:!1,isLoaded:!1,isGroupedByChampionship:!1}),getters:{count:e=>(e.items||[]).length,itemsIndexes:e=>e.items.map((e=>`${e.slug}`)),objSectionsCount:e=>{const t={};return(e.items||[]).forEach((e=>{const o=(e?.path||"").split("/").filter((e=>!!e)).shift()||"none";t[o]?t[o]+=1:t[o]=1})),t},itemsEsportesCount:e=>e.items.filter((e=>e.path.includes("esportes"))).length,itemsEsportsCount:e=>e.items.filter((e=>e.path.includes("esports"))).length},actions:G,mutations:Q};const Y=(e,t={section:"sport",type:"prematch",country:null,championship:null})=>{"esports"===t.section&&(t.section="esportes");return[...e].filter((e=>e.section===t.section&&(!(t.type&&"live"===t.type&&!e.iniciado)&&(!t.type||"prematch"!==t.type||!e.iniciado))))},W={getStaticFavoriteEventsByFilter:({state:e},t)=>Y(e.items,t),async getFavoriteEventsList({state:e,dispatch:t},o){const a=Y(e.items,o),i=(a||[]).map((e=>e.id)),s=[];a.forEach((e=>{-1===s.indexOf(e.tipoEsporte)&&s.push(e.tipoEsporte)}));const r=[];for(let e=0;e<s.length;e++)r.push((0,z.uY)({sport:s[e],limit:99999,type:o.type,sort:o.sort,filters:"live"===o.type?{iniciado:!0}:null}));try{const e=await Promise.all(r);let a=[];e.forEach((e=>{a=[].concat(a,e.eventos)}));const s=a.filter((e=>i.includes(e.id))),n=(s||[]).map((e=>e.id));if("live"===o.type){const e=i.filter((e=>!n.includes(e)));e.length&&t("removeItems",e)}if("prematch"===o.type){const e=i.filter((e=>!n.includes(e)));e.length&&t("setToStartedEvent",e)}return{totalEventos:s.length,eventos:s}}catch(e){return console.error(e),{totalEventos:0,eventos:[]}}},setToStartedEvent({state:e,commit:t},o){t("update",{items:[...e.items].map((e=>(o.includes(e.id)&&(e.iniciado=!0),e)))})},removeItems({state:e,commit:t},o){t("update",{items:[...e.items].filter((e=>!o.includes(e.id)))})},reset({commit:e}){e("update")},toggleFavoriteEvent({state:e,commit:t},o){if((e=>{const t=["id","section","tipoEsporte","slugCampeonato","slugEsporte","iniciado"];let o=!1;for(let a=0;a<t.length;a++)if(!Object.prototype.hasOwnProperty.call(e,t[a])){console.error("Precisa conter: %s",t[a]),o=!0;break}return o})(o))return void console.error("Item não pode ser adicionado.");const a=e.items.findIndex((e=>e.id===o.id)),i=[...e.items];-1===a?i.push(o):i.splice(a,1),t("update",{items:i})}},X={update(e,t){e.items=t?.items||[]},setFetching(e,t){e.isFetching=t}};var K={namespaced:!0,state:()=>({items:[]}),getters:{itemsIndexes:e=>(e.items||[]).map((e=>e.id)),count:e=>(e.items||[]).length},actions:W,mutations:X};const ee={toggleIsGroupedByChampionship({commit:e,state:t}){e("setIsGroupedByChampionship",!t.isGroupedByChampionship)},updateSportsOrder({commit:e},t){e("setSportsOrder",t)}},te={setIsGroupedByChampionship(e,t){e.isGroupedByChampionship=t},setSportsOrder(e,t){e.sportsOrder=t}};var oe={namespaced:!0,state:()=>({isGroupedByChampionship:!1,sportsOrder:[]}),getters:{},actions:ee,mutations:te},ae=o(2829);var ie={namespaced:!0,actions:{async getBanner({rootState:e,dispatch:t},o){const a=e?.permissions?.produtosPermitidos||[];if(!a||0===a.length)return await(i=1e3,new Promise((e=>{setTimeout(e,i)}))),await t("getBanner",o);var i;const s=await(0,ae.E)(o);return s?.banners&&(s.banners=s?.banners.filter((e=>!(e.produtoRelacionado&&!a.includes(e.produtoRelacionado))))),s}}},se=o(389);const re={setConfig(e,t){e.config=t}};var ne={namespaced:!0,state:()=>({isFetching:!1,finish:!1,config:null}),getters:{},actions:{async init({commit:e}){try{e("setConfig",await se.E.get("/theme.json"))}catch(e){console.error(e)}}},mutations:re};const ce=new i.ZP({key:"webet",storage:window.localStorage,modules:["sportsOptions","favoriteEvents","etickets"]}),le=new i.ZP({key:"webet",storage:window.sessionStorage,modules:["cartOdds","user","permissions","theme"]}),de=[ce.plugin,le.plugin];var ue=(0,a.MT)({modules:{permissions:y,theme:ne,user:I,cartOdds:m,myBets:H,games:F,favoriteSlots:q,favoriteEventsGroups:Z,favoriteEvents:K,sportsOptions:oe,banner:ie,etickets:g},strict:false,plugins:de})}}]);